<!DOCTYPE html>
<html>
<head>
	<title>joystick</title>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, user-scalable=no"/>
	<meta property="og:title"       content="joystick"/>
	<meta property="og:url"         content="http://jquery-element.github.io/joystick/"/>
	<meta property="og:image"       content="http://jquery-element.github.io/joystick/thumbnail.jpg"/>
	<meta property="og:description" content="A tiny HTML5 joystick for mobile purpose."/>
	<script src="//code.jquery.com/jquery-3.0.0-alpha1.min.js"></script>
	<script src="//jquery-element.github.io/jquery-element-1.7.0.js"></script>
	<script src="//jquery-element.github.io/joystick-2.0.0.js"></script>
	<style>
	body {
		margin-top: 35px;
		font: 16px monospace;
		text-align: center;
		color: #afa;
		background: #222;
	}
	.side {
		display: inline-block;
		text-align: left;
	}
	.joystick {
		margin-top: 25px;
	}
	.right {
		color: #aaf;
		margin-left: 200px;
	}
	</style>
	<script>
	$( function() {

		var jqData = $( "span" );

		function setCoord( side, x, y, rx, ry ) {
			side *= 4;
			function f( ind, v ) {
				jqData.eq( side + ind ).text( ~~( v * 100 ) / 100 );
			}
			f( 0,  x );
			f( 1,  y );
			f( 2, rx );
			f( 3, ry );
		}

		setCoord( 0, 0, 0, 0, 0 );
		setCoord( 1, 0, 0, 0, 0 );

		$( ".left .joystick" ).element().init({
			move:    setCoord.bind( null, 0 ),
			hold:    setCoord.bind( null, 0, 0, 0, 0, 0 ),
			release: setCoord.bind( null, 0, 0, 0, 0, 0 )
		});

		$( ".right .joystick" ).element().init({
			move:    setCoord.bind( null, 1 ),
			hold:    setCoord.bind( null, 1, 0, 0, 0, 0 ),
			release: setCoord.bind( null, 1, 0, 0, 0, 0 )
		});
	});
	</script>
</head>
<body>

	<div class="side left">
		x &nbsp;: <span></span><br/>
		y &nbsp;: <span></span><br/>
		rx : <span></span><br/>
		ry : <span></span><br/>
		<div data-jquery-element="joystick"></div>
	</div
	><div class="side right">
		x &nbsp;: <span></span><br/>
		y &nbsp;: <span></span><br/>
		rx : <span></span><br/>
		ry : <span></span><br/>
		<div data-jquery-element="joystick"></div>
	</div>

</body>
</html>
